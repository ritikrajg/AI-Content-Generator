"use strict";(self.webpackChunkcontent_genie_frontend=self.webpackChunkcontent_genie_frontend||[]).push([[790],{4835:(e,s,l)=>{l.d(s,{A:()=>i});l(5043);var t=l(3825),n=l(579);const i=e=>{let s,l,{type:i,message:a}=e;switch(i){case"error":s=(0,n.jsx)(t.XfH,{className:"text-red-500 text-3xl"}),l="bg-red-100 text-red-700";break;case"success":s=(0,n.jsx)(t.jh$,{className:"text-green-500 text-3xl"}),l="bg-green-100 text-green-700";break;case"loading":s=(0,n.jsx)(t.PSR,{className:"animate-spin text-blue-500 text-3xl"}),l="bg-blue-100 text-blue-700";break;default:s=null}return(0,n.jsxs)("div",{className:"flex items-center p-4 rounded-lg ".concat(l," space-x-3"),children:[s,(0,n.jsx)("span",{className:"text-sm font-medium",children:a})]})}},1790:(e,s,l)=>{l.r(s),l.d(s,{default:()=>v});var t=l(3248),n=l(7097),i=l(3747),a=l(5043),o=l(3216),d=l(5475),r=l(4930),u=l(1093),c=l(9381),m=l(4835),x=l(579);const v=()=>{var e,s,l,v,h,g,b,p,f,j,N,y,w,C,A,S,k,D,P,E,q,R,T,U,_,F,Y,I,B,H,O,M;const[W,K]=(0,a.useState)(""),{logout:L}=(0,u.As)(),Q=(0,t.jE)(),X=(0,o.Zp)(),Z=(0,n.n)({mutationFn:r.NW,onSuccess:()=>{Q.invalidateQueries(["profile"])}}),$=(0,n.n)({mutationFn:r.Ff,onSuccess:()=>{L(),X("/")}}),z=(0,i.I)({queryFn:r.gu,queryKey:["profile"]});(0,a.useEffect)((()=>{var e,s;z.isSuccess&&K((null===(e=z.data)||void 0===e||null===(s=e.user)||void 0===s?void 0:s.username)||"")}),[z.isSuccess,null===(e=z.data)||void 0===e||null===(s=e.user)||void 0===s?void 0:s.username]);const G=(null===z||void 0===z||null===(l=z.data)||void 0===l||null===(v=l.user)||void 0===v?void 0:v.monthlyRequestCount)-(null===z||void 0===z||null===(h=z.data)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.apiRequestCount),J=new Date(null===z||void 0===z||null===(b=z.data)||void 0===b||null===(p=b.user)||void 0===p?void 0:p.trialExpires).toDateString();if(null!==z&&void 0!==z&&z.isLoading)return(0,x.jsx)(c.A,{});if(null!==z&&void 0!==z&&z.isError)return(0,x.jsx)(m.A,{type:"loading",message:null===z||void 0===z||null===(f=z.error)||void 0===f||null===(j=f.response)||void 0===j||null===(N=j.data)||void 0===N?void 0:N.message});return(0,x.jsxs)("div",{className:"mx-auto p-4 bg-gray-900 w-full",children:[(0,x.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-blue-600",children:"User Dashboard"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{className:"mb-6 bg-white p-4 shadow rounded-lg",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profile Information"}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Username"}),(0,x.jsx)("input",{type:"text",className:"border rounded w-full py-2 px-3 text-gray-700 leading-tight",id:"username",name:"username",value:W,onChange:e=>K(e.target.value)})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,x.jsx)("input",{type:"text",className:"border rounded w-full py-2 px-3 text-gray-700 leading-tight",id:"email",name:"email",value:null===z||void 0===z||null===(y=z.data)||void 0===y||null===(w=y.user)||void 0===w?void 0:w.email,disabled:!0})]}),(0,x.jsx)("button",{className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:W===(null===z||void 0===z||null===(C=z.data)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.username),onClick:()=>{Z.mutate({username:W})},children:"Update"}),(0,x.jsx)("button",{className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-red-500 to-amber-500 hover:from-amber-600 hover:to-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",onClick:()=>{"YES"===prompt('All Paid Services will be cancelled you wont be able to access it again.\nAre you sure? You want to Delete your Account?\nIf Yes Type "YES" Or Type "NO" (in uppercase)')?(alert("Account deletion confirmed. Meet You Again!"),$.mutate()):alert("Account deletion canceled. Well Are You Okay?")},children:"Delete"})]})]}),(0,x.jsxs)("div",{className:"mb-6 bg-white p-4 shadow rounded-lg",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Credit Usage"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("p",{className:"mb-4",children:["Monthly Credit: ",null===z||void 0===z||null===(S=z.data)||void 0===S||null===(k=S.user)||void 0===k?void 0:k.monthlyRequestCount]}),(0,x.jsxs)("p",{className:"mb-4",children:["Credit Used: ",null===z||void 0===z||null===(D=z.data)||void 0===D||null===(P=D.user)||void 0===P?void 0:P.apiRequestCount]}),(0,x.jsxs)("p",{className:"mb-4",children:["Credit Remaining: ",G]}),(0,x.jsxs)("p",{className:"mb-4",children:["Next Billing Date:"," ",new Date(null===z||void 0===z||null===(E=z.data)||void 0===E||null===(q=E.user)||void 0===q?void 0:q.nextBillingDate).toDateString()||"No Billing Date"]})]})]}),(0,x.jsxs)("div",{className:"mb-6 bg-white p-4 shadow rounded-lg",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payment & Plans"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("p",{className:"mb-4",children:["Current Plan :"," ",(null===z||void 0===z||null===(R=z.data)||void 0===R||null===(T=R.user)||void 0===T?void 0:T.subscriptionPlan)||"Trial"]}),(0,x.jsxs)("p",{className:"mb-4",children:["Total Credits :"," ",(null===z||void 0===z||null===(U=z.data)||void 0===U||null===(_=U.user)||void 0===_?void 0:_.monthlyRequestCount)||"Trial"]}),(0,x.jsx)(d.N_,{to:"/plans",className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Upgrade Plan"})]})]}),(0,x.jsxs)("div",{className:"mb-6 bg-white p-4 shadow rounded-lg",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Trial Information"}),(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsxs)("p",{className:"mb-4",children:["Trial Status:"," ",null!==z&&void 0!==z&&null!==(F=z.data)&&void 0!==F&&null!==(Y=F.user)&&void 0!==Y&&Y.trialActive?(0,x.jsx)("span",{className:"text-green-500",children:"Active"}):(0,x.jsx)("span",{className:"text-red-500",children:"Inactice"})]}),(0,x.jsxs)("p",{className:"mb-4",children:["Expires on: ",J]}),(0,x.jsx)(d.N_,{to:"/plans",className:" py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Upgrade to Premium"})]})]}),(0,x.jsxs)("div",{className:"mb-6 bg-white p-4 shadow rounded-lg col-span-1 md:col-span-2",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-5",children:"Payment History"}),(null===z||void 0===z||null===(I=z.data)||void 0===I||null===(B=I.user)||void 0===B||null===(H=B.payments)||void 0===H?void 0:H.length)>0?(0,x.jsx)("ul",{className:"divide-y divide-gray-200",children:null===z||void 0===z||null===(O=z.data)||void 0===O||null===(M=O.user)||void 0===M?void 0:M.payments.map((e=>(0,x.jsx)("li",{className:"px-2 py-4 hover:bg-gray-50 transition duration-150 ease-in-out",children:(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between",children:[(0,x.jsxs)("div",{className:"mb-2 sm:mb-0",children:[(0,x.jsx)("p",{className:"text-sm font-medium text-indigo-600",children:null===e||void 0===e?void 0:e.subscriptionPlan}),(0,x.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toDateString()})]}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("p",{className:"text-sm font-semibold ".concat("succeeded"===(null===e||void 0===e?void 0:e.status)?"text-green-500":"text-red-500"),children:null===e||void 0===e?void 0:e.status}),(0,x.jsx)("p",{className:"text-sm text-gray-700 ml-4",children:null===e||void 0===e?void 0:e.amount})]})]})},e._id)))}):(0,x.jsx)("h1",{children:"No Payment History"})]})]})]})}}}]);
//# sourceMappingURL=790.e5f002e5.chunk.js.map