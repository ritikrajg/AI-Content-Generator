{"version":3,"file":"static/js/322.7cee760a.chunk.js","mappings":"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","sources":["components/StatusMessage.component.jsx","pages/History.page.jsx"],"sourcesContent":["import React from \"react\";\nimport {\n  AiOutlineCheckCircle,\n  AiOutlineCloseCircle,\n  AiOutlineLoading3Quarters,\n} from \"react-icons/ai\";\n\nconst StatusMessage = ({ type, message }) => {\n  let icon;\n  let colorClass;\n\n  switch (type) {\n    case \"error\":\n      icon = <AiOutlineCloseCircle className=\"text-red-500 text-3xl\" />;\n      colorClass = \"bg-red-100 text-red-700\";\n      break;\n    case \"success\":\n      icon = <AiOutlineCheckCircle className=\"text-green-500 text-3xl\" />;\n      colorClass = \"bg-green-100 text-green-700\";\n      break;\n    case \"loading\":\n      icon = (\n        <AiOutlineLoading3Quarters className=\"animate-spin text-blue-500 text-3xl\" />\n      );\n      colorClass = \"bg-blue-100 text-blue-700\";\n      break;\n    default:\n      icon = null;\n  }\n\n  return (\n    <div className={`flex items-center p-4 rounded-lg ${colorClass} space-x-3`}>\n      {icon}\n      <span className=\"text-sm font-medium\">{message}</span>\n    </div>\n  );\n};\n\nexport default StatusMessage;\n","import { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport React, { useState } from \"react\";\nimport { FaEye, FaEyeSlash, FaPlusSquare, FaTrashAlt } from \"react-icons/fa\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Link } from \"react-router-dom\";\nimport { deleteHistoryApi, profileApi } from \"../apis/usersApi\";\nimport StatusMessage from \"../components/StatusMessage.component\";\n\nconst ContentHistory = () => {\n  const queryClient = useQueryClient();\n  const [expandedContentId, setExpandedContentId] = useState(null);\n  const mutation = useMutation({\n    mutationFn: deleteHistoryApi,\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"profile\"]);\n    },\n  });\n  const { data, isLoading, isError, error } = useQuery({\n    queryFn: profileApi,\n    queryKey: [\"profile\"],\n  });\n  const toggleExpand = (contentId) => {\n    setExpandedContentId((prevState) =>\n      prevState === contentId ? null : contentId\n    );\n  };\n  const handleDelete = (contentId, userId) => {\n    mutation.mutate({ contentId, userId });\n  };\n  if (isLoading) {\n    <StatusMessage type={\"loading\"} message={\"Loading...\"} />;\n  }\n  if (isError) {\n    <StatusMessage type={\"error\"} message={error?.response?.data?.message} />;\n  }\n  return (\n    <div className=\"bg-gray-100 py-12\">\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <h2 className=\"text-3xl font-extrabold text-gray-800 text-center mb-6\">\n          Generated Content History\n        </h2>\n        <Link\n          to=\"/generate-content\"\n          className=\"mb-4 bg-blue-500 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-600 flex items-center w-52\"\n        >\n          <FaPlusSquare className=\"mr-2\" /> Create New Content\n        </Link>\n        {/* Content history list */}\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n          {data?.user?.history.length <= 0 ? (\n            <div className=\"px-6 py-4\">\n              <strong>Looks Like Your History Is Clear</strong>\n            </div>\n          ) : (\n            <ul className=\"divide-y divide-gray-200\">\n              {data?.user?.history.map((content) => {\n                const isExpanded = expandedContentId === content._id;\n                return (\n                  <li key={content?._id} className=\"flex flex-col\">\n                    <div className=\"px-6 py-4 flex items-center justify-between space-x-4\">\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-gray-900 truncate\">\n                          {content?.content}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          {new Date(content?.createdAt).toLocaleDateString()}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center space-x-4\">\n                        <button\n                          className=\"text-green-500 hover:text-green-600 cursor-pointer\"\n                          onClick={() => toggleExpand(content?._id)}\n                        >\n                          {isExpanded ? <FaEyeSlash /> : <FaEye />}\n                        </button>\n                        <button\n                          className=\"text-red-500 hover:text-red-600 cursor-pointer\"\n                          onClick={() => {\n                            const response = prompt(\n                              'Are you sure? You want to Delete This Content?\\nIf Yes Type \"YES\"(in uppercase)'\n                            );\n                            if (response === \"YES\") {\n                              alert(\"Content deletion confirmed\");\n                              handleDelete(content?._id, data?.user?._id);\n                            } else {\n                              alert(\"Content deletion canceled\");\n                            }\n                          }}\n                        >\n                          <FaTrashAlt />\n                        </button>\n                      </div>\n                    </div>\n                    {/* Render ReactMarkdown content if expanded */}\n                    {isExpanded && (\n                      <div className=\"px-6 py-4\">\n                        <ReactMarkdown>{content?.content}</ReactMarkdown>\n                      </div>\n                    )}\n                  </li>\n                );\n              })}\n              {/* Additional list items can be added here */}\n            </ul>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ContentHistory;\n"],"names":["_ref","icon","colorClass","type","message","_jsx","AiOutlineCloseCircle","className","AiOutlineCheckCircle","AiOutlineLoading3Quarters","_jsxs","concat","children","ContentHistory","_data$user","_data$user2","queryClient","useQueryClient","expandedContentId","setExpandedContentId","useState","mutation","useMutation","mutationFn","deleteHistoryApi","onSuccess","invalidateQueries","data","isLoading","isError","error","useQuery","queryFn","profileApi","queryKey","_error$response","_error$response$data","StatusMessage","response","Link","to","FaPlusSquare","user","history","length","map","content","isExpanded","_id","Date","createdAt","toLocaleDateString","onClick","toggleExpand","contentId","prevState","FaEyeSlash","FaEye","_data$user3","userId","prompt","alert","mutate","FaTrashAlt","ReactMarkdown"],"sourceRoot":""}