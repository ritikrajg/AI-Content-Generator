"use strict";(self.webpackChunkcontent_genie_frontend=self.webpackChunkcontent_genie_frontend||[]).push([[766],{4835:(e,t,s)=>{s.d(t,{A:()=>o});s(5043);var r=s(3825),n=s(579);const o=e=>{let t,s,{type:o,message:l}=e;switch(o){case"error":t=(0,n.jsx)(r.XfH,{className:"text-red-500 text-3xl"}),s="bg-red-100 text-red-700";break;case"success":t=(0,n.jsx)(r.jh$,{className:"text-green-500 text-3xl"}),s="bg-green-100 text-green-700";break;case"loading":t=(0,n.jsx)(r.PSR,{className:"animate-spin text-blue-500 text-3xl"}),s="bg-blue-100 text-blue-700";break;default:t=null}return(0,n.jsxs)("div",{className:"flex items-center p-4 rounded-lg ".concat(s," space-x-3"),children:[t,(0,n.jsx)("span",{className:"text-sm font-medium",children:l})]})}},766:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var r=s(3248),n=s(7097),o=s(3747),l=s(3892),i=s(5043),a=s(3105),d=s(5475),u=s(899),m=s(7154);const c=async e=>{let{prompt:t}=e;const s=await m.A.post("".concat("https://ai-content-generator-2qmc.onrender.com","/api/v1/ai/generate"),{prompt:t},{withCredentials:!0});return null===s||void 0===s?void 0:s.data};var p=s(4930),x=s(9381),g=s(4835),v=s(579);const h=()=>{var e,t,s,m,h,f,b,j,y,N,w,A,C,S,k,q;const[P,E]=(0,i.useState)("A prompt is required"),_=(0,r.jE)(),[F,G]=(0,i.useState)(""),I=(0,n.n)({mutationFn:c,onSuccess:()=>{_.invalidateQueries(["profile"])}}),R=(0,l.Wx)({initialValues:{prompt:""},validationSchema:u.Ik({prompt:u.Yj().required("A prompt is required")}),onSubmit:e=>{E(e.prompt),I.mutate(e)}}),H=(0,o.I)({queryFn:p.gu,queryKey:["profile"]});return(0,i.useEffect)((()=>{var e;I.isSuccess&&G(null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.content)}),[I]),H.isLoading?(0,v.jsx)(x.A,{}):H.isError?(0,v.jsx)(g.A,{type:"loading",message:null===H||void 0===H||null===(e=H.error)||void 0===e||null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message}):(0,v.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-900 flex justify-center items-center p-6",children:(0,v.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden max-w-2xl w-full p-6",children:[(0,v.jsxs)("h4",{className:"text-3xl font-extrabold text-gray-800 mb-2 text-center",children:["Hello, ",null===H||void 0===H||null===(m=H.data)||void 0===m||null===(h=m.user)||void 0===h?void 0:h.username]}),(0,v.jsx)("p",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Get help with writing, planning, learning, and more from Gemini AI"}),(0,v.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,v.jsx)("div",{className:"mb-3",children:(0,v.jsxs)("span",{className:"text-sm font-semibold bg-green-300 px-4 py-1 rounded-md",children:["Plan :"," ",null!==H&&void 0!==H&&null!==(f=H.data)&&void 0!==f&&null!==(b=f.user)&&void 0!==b&&b.subscriptionPlan?null===H||void 0===H||null===(j=H.data)||void 0===j||null===(y=j.user)||void 0===y?void 0:y.subscriptionPlan:"Trial"]})}),(0,v.jsx)("div",{className:"mb-3",children:(0,v.jsxs)("span",{className:"text-sm font-semibold bg-green-300 px-4 py-1 rounded-md",children:["Credits : ",null===H||void 0===H||null===(N=H.data)||void 0===N||null===(w=N.user)||void 0===w?void 0:w.apiRequestCount," /"," ",null===H||void 0===H||null===(A=H.data)||void 0===A||null===(C=A.user)||void 0===C?void 0:C.monthlyRequestCount]})}),(0,v.jsx)(d.N_,{to:"/history",className:"text-blue-600",children:(0,v.jsx)("strong",{children:"View history"})})]}),(0,v.jsxs)("form",{onSubmit:R.handleSubmit,className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"prompt",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Enter a prompt of your idea"}),(0,v.jsx)("input",{id:"prompt",type:"text",...R.getFieldProps("prompt"),className:"px-4 py-2 w-full border rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"Enter a topic or idea"}),R.touched.prompt&&R.errors.prompt&&(0,v.jsx)("div",{className:"text-red-500 mt-1",children:R.errors.prompt})]}),(null===I||void 0===I?void 0:I.isPending)&&(0,v.jsx)(g.A,{type:"loading",message:"Loading Please Wait..."}),(null===I||void 0===I?void 0:I.isSuccess)&&(0,v.jsx)(g.A,{type:"success",message:"Content Generated \ud83c\udf89"}),(null===I||void 0===I?void 0:I.isError)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g.A,{type:"error",message:null===I||void 0===I||null===(S=I.error)||void 0===S||null===(k=S.response)||void 0===k||null===(q=k.data)||void 0===q?void 0:q.message}),(0,v.jsx)(d.N_,{to:"/plans",children:(0,v.jsx)("button",{className:" mt-4 w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-green-500 to-lime-500 hover:from-lime-600 hover:to-lime-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-lime-500",children:"Buy Credits"})})]}),(0,v.jsx)("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:P===R.values.prompt,children:"Generate Content"})]}),F&&(0,v.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded-md",children:[(0,v.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Generated Content:"}),(0,v.jsx)("p",{className:"text-gray-900 overflow-auto",children:(0,v.jsx)(a.o,{children:F})})]})]})})}}}]);
//# sourceMappingURL=766.a3813954.chunk.js.map